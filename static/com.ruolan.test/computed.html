<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计算属性和侦听器</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>

</head>
<body>
<div id="app">
    {{fullName}}
    {{age}}
</div>

<script>
    var vm = new Vue({
        el: "#app",
        data: {
            firstName: "ruolan",
            lastName: "mingyue",
            // fullName:"ruolan mingyue",
            age: 28
        },
        //第三种方式  侦听属性
        // 这种方式 当fullName的其他数据进行改变的时候 不会影响这个变化  和computed这个类似  有缓存
        // watch:{
        //     firstName:function () {
        //         console.log("计算了一次")
        //         this.fullName = this.firstName + " " + this.lastName
        //     },
        //     lastName:function () {
        //         console.log("计算了一次")
        //         this.fullName = this.firstName + " " + this.lastName
        //     }
        // }

        computed: {
            fullName: {

                get: function () {
                    console.log("getter计算了一次")
                    return this.firstName + ' ' + this.lastName
                },
                
                set: function (newValue) {
                    console.log("setter计算了一次")
                    var names = newValue.split(' ')
                    this.firstName = names[0]
                    this.lastName = names[names.length - 1]
                }
            }

        }


        //第一种方式
        //计算属性  计算属性只有在它的相关依赖发生改变时才会重新求值。
        // 这就意味着只要 message 还没有发生改变，多次访问 reversedMessage
        // 计算属性会立即返回之前的计算结果，而不必再次执行函数。
        // computed: {
        //     fullName: function () {
        //         console.log("计算了一次")
        //         return this.firstName + " " + this.lastName
        //     }
        // }

        //第二种方法
        //或者使用方法   但是调用的时候需要方法名并且()这个  也就是fullName()
        //但是这个不存在了缓存   也就是只要其他地方进行了改变  那就会调用一次方法
        // methods:{
        //     fullName:function () {
        //         console.log("计算了一次")
        //         return this.firstName + " " + this.lastName
        //     }
        // }

    })

</script>
</body>
</html>